<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css"
      integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh"
      crossorigin="anonymous"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/hover.css/2.3.1/css/hover-min.css"
    />
    <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
    <link
      href="https://fonts.googleapis.com/css?family=Lora:400,700|Montserrat:300,700|Yellowtail:400,700"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/mapstyle.css" />

    <title>Everyday Gourmet Search Local Shops</title>
  </head>

  <body>
    <!-- Navigation -->

    <header id="home">
      <div class="container-fluid">
        <div id="navigation" class="navbar navbar-fixed-transparent">
          <ul class="nav">
            <li class="nav-item">
              <a
                class="navbar-brand font-montserrat dark-text"
                href="index.html"
              >
                <i id="home-icon" class="fas fa-home" aria-hidden="true"></i>
                <span class="sr-only">home</span>
              </a>
            </li>
            <li class="nav-item">
              <a
                id="contact"
                class="navbar-brand font-montserrat dark-text uppercase"
                href="contact.html"
              >
                Contact
                <span class="sr-only">Contact Page</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </header>

    <!-- Main content / Contact Us Email Form -->

    <div class="container-fluid footer-sticky contact-us-page map-wrapper">
      <div class="row content-anchor get-wine-bg">
        <div
          class="col map-column center-text font-lora light-text border-thin"
        >
          <h4 class="font-montserrat">
            Make Every Day<br />
            </h4>
            <h2 class="border-thin"><span class="fancy-text fancy-large">G</span
            ><span class="fancy-text fancy-small">ourmet</span>
          </h2>
          <div id="map"></div>
          <div id="map-text">
            <h3 class="contact-heading uppercase">Shop Wines</h3>
            <h5 class="uppercase">Find local wine shops</h5>
          </div>
        </div>
      </div>
      <!-- Social Media Links -->
      <div class="row social-media-center content-anchor">
        <div class="col-sm-4 center-text social-media-links card-footer">
          <ul class="list-inline social-links">
            <li class="list-inline-item">
              <a target="_blank" href="https://www.facebook.com">
                <i class="fab fa-facebook dark-text" aria-hidden="true"></i>
                <span class="sr-only">Facebook</span>
              </a>
            </li>
            <li class="list-inline-item">
              <a target="_blank" href="https://www.twitter.com">
                <i class="fab fa-twitter dark-text" aria-hidden="true"></i>
                <span class="sr-only">Twitter</span>
              </a>
            </li>
            <li class="list-inline-item">
              <a target="_blank" href="https://www.linkedin.com">
                <i class="fab fa-linkedin dark-text" aria-hidden="true"></i>
                <span class="sr-only">LinkedIn</span>
              </a>
            </li>
            <li class="list-inline-item">
              <a target="_blank" href="https://www.pinterest.com">
                <i class="fab fa-pinterest dark-text" aria-hidden="true"></i>
                <span class="sr-only">Pinterest</span>
              </a>
            </li>
            <li class="list-inline-item">
              <a target="_blank" href="https://www.instagram.com">
                <i class="fab fa-instagram dark-text" aria-hidden="true"></i>
                <span class="sr-only">Instagram</span>
              </a>
            </li>
            <li class="list-inline-item">
              <a target="_blank" href="https://www.youtube.com">
                <i class="fab fa-youtube dark-text" aria-hidden="true"></i>
                <span class="sr-only">YouTube</span>
              </a>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <script
      src="https://code.jquery.com/jquery-3.4.1.slim.min.js"
      integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js"
      integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"
      integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6"
      crossorigin="anonymous"
    ></script>
    <script
      type="text/javascript"
      src="https://cdn.jsdelivr.net/npm/emailjs-com@2.3.2/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init("user_uwE1zr6VGq2l3SFfii47C");
      })();
    </script>
    <script src="https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/markerclustererplus@4.0.1.min.js"></script>
    <script
      async
      defer
      src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAcuRYmMc1O9HX7R6W5Ko7zPWXT1qbOpOQ&callback=initMap"
    ></script>
    <script src="assets/js/map.js"></script>

    <script src="assets/js/main.js"></script>
    <script src="assets/js/sendemail.js"></script>

     <script>
    /* Note: This example requires that you consent to location sharing when
     * prompted by your browser. If you see the error "Geolocation permission
     * denied.", it means you probably did not give permission for the browser * to locate you. */

    /* TODO: Step 2, Geolocate your user
     * Replace the code from here to the END TODO comment with this code
     * from codelab instructions. */
    let pos;
    let map;
    let bounds;
    let infoWindow;
    let currentInfoWindow;
    let service;
    let infoPane;
    function initMap() {
      // Initialize variables
      bounds = new google.maps.LatLngBounds();
      infoWindow = new google.maps.InfoWindow;
      currentInfoWindow = infoWindow;
      /* TODO: Step 4A3: Add a generic sidebar */

      // Try HTML5 geolocation
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(position => {
          pos = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
          map = new google.maps.Map(document.getElementById('map'), {
            center: pos,
            zoom: 15
          });
          bounds.extend(pos);

          infoWindow.setPosition(pos);
          infoWindow.setContent('Location found.');
          infoWindow.open(map);
          map.setCenter(pos);

          /* TODO: Step 3B2, Call the Places Nearby Search */
        }, () => {
          // Browser supports geolocation, but user has denied permission
          handleLocationError(true, infoWindow);
        });
      } else {
        // Browser doesn't support geolocation
        handleLocationError(false, infoWindow);
      }
    }

    // Handle a geolocation error
    function handleLocationError(browserHasGeolocation, infoWindow) {
      // Set default location to Sydney, Australia
      pos = {lat: -33.856, lng: 151.215};
      map = new google.maps.Map(document.getElementById('map'), {
        center: pos,
        zoom: 15
      });

      // Display an InfoWindow at the map center
      infoWindow.setPosition(pos);
      infoWindow.setContent(browserHasGeolocation ?
        'Geolocation permissions denied. Using default location.' :
        'Error: Your browser doesn\'t support geolocation.');
      infoWindow.open(map);
      currentInfoWindow = infoWindow;

      /* TODO: Step 3B3, Call the Places Nearby Search */
    }
    
  </script>
  </body>
</html>
